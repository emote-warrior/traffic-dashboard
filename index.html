<!DOCTYPE html>
<html>
<head>
    <title>Delhi Route Dashboard</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"></script>
    <style>
        #map {
            height: 500px;
            width: 100%;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h2>Delhi Route Dashboard</h2>
    
    <label for="routeSelect">Select a Route:</label>
    <select id="routeSelect" onchange="updateMap()">
        <option value="">-- Select a Route --</option>
    </select>
    
    <div id="map"></div>
    
    <table>
        <tr>
            <th>Route Number</th>
            <th>Road Name</th>
            <th>Destination</th>
            <th>Distance (km)</th>
            <th>Map Link</th>
        </tr>
        <tbody id="routeTable"></tbody>
    </table>
    
    <script>
        let map;
        let directionsService;
        let directionsRenderer;
        const routes = [
            { number: "Route 1", origin: "Baba Banda Singh Bahadur Setu", destination: "Sarai Kale Khan", distance: 4.4, link: "https://maps.app.goo.gl/PDAzJX3KsrQUbZ9J9" },
            { number: "Route 2", origin: "Jangpura Rd", destination: "Delhi Golf Club", distance: 5.8, link: "https://maps.app.goo.gl/hPx3tC4M3gubyrjaA" },
            { number: "Route 3", origin: "Mahatma Gandhi Rd", destination: "Ashram", distance: 7.5, link: "https://maps.app.goo.gl/vm3xxqf4NRXVmc568" },
            { number: "Route 4", origin: "Mahatma Gandhi Rd", destination: "Moti Bagh", distance: 6.4, link: "https://maps.app.goo.gl/CeAEi44vFNpBWp7W9" },
            { number: "Route 5", origin: "Sri Aurobindo Marg", destination: "Mehrauli", distance: 5.1, link: "https://maps.app.goo.gl/HJMAjfiAfVE9qwv69" }
        ];

        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 28.6139, lng: 77.2090 },
                zoom: 12
            });
            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer();
            directionsRenderer.setMap(map);
            populateTable();
            populateDropdown();
        }

        function populateTable() {
            const tableBody = document.getElementById("routeTable");
            routes.forEach(route => {
                const row = `<tr>
                    <td>${route.number}</td>
                    <td>${route.origin}</td>
                    <td>${route.destination}</td>
                    <td>${route.distance}</td>
                    <td><a href="${route.link}" target="_blank">View</a></td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }
        
        function populateDropdown() {
            const dropdown = document.getElementById("routeSelect");
            routes.forEach(route => {
                const option = document.createElement("option");
                option.value = JSON.stringify({ origin: route.origin, destination: route.destination });
                option.textContent = route.number;
                dropdown.appendChild(option);
            });
        }

        function updateMap() {
            const selectedRoute = document.getElementById("routeSelect").value;
            if (!selectedRoute) return;
            const { origin, destination } = JSON.parse(selectedRoute);
            const request = {
                origin: origin,
                destination: destination,
                travelMode: 'DRIVING'
            };
            directionsService.route(request, function(result, status) {
                if (status == 'OK') {
                    directionsRenderer.setDirections(result);
                } else {
                    alert("Error fetching directions: " + status);
                }
            });
        }
        
        window.onload = initMap;
    </script>
</body>
</html>
